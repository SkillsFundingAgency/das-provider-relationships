@model SFA.DAS.ProviderRelationships.Web.ViewModels.Operations.UpdateOperationViewModel

@{
    ViewBag.Title = $"Do you give your training provider permission to {@Model.Operation.GetDescription().ToLower()}?";
    ViewBag.ZenDeskLabel = "permissions-set-permissions";
    var recruitmentNoOptionId = string.Empty;
}

@section breadcrumb
{
    <a class="govuk-back-link" href="@Model.BackLink">Back</a>
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        @Html.Partial("_ValidationSummary", ViewData.ModelState)
    </div>
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl govuk-!-margin-bottom-6">Do you give @Model.ProviderName permission to @Model.Operation.GetDescription().ToLower()?</h1>
    </div>
</div>

<div class="govuk-grid-row">
    @using (Html.BeginForm(new { action = $"{ViewContext.RouteData.Values[RouteValueKeys.AccountHashedId]}/providers/{ViewContext.RouteData.Values[RouteValueKeys.AccountProviderId]}/legalentities/{ViewContext.RouteData.Values[RouteValueKeys.AccountLegalEntityId]}/operations/{(short)Model.Operation}", controller = "accounts" }))
    {
        <div class="govuk-grid-column-two-thirds @(Html.IsValid(m => m.Operation) ? "" : " govuk-form-group--error")">
            <div class="govuk-grid-column-two-thirds">                
                @Model.Operation.GetDescriptionPartial(Html)
            </div>
            <div class="govuk-grid-column-two-thirds">
                @Html.AntiForgeryToken()

                <fieldset class="govuk-fieldset">
                    <span class="govuk-error-message">
                        @Html.ValidationMessageFor(m => m.Operation)
                    </span>
                    <table class="govuk-table govuk-!-font-size-19">
                        <tbody class="govuk-table__body">
                            <tr class="govuk-table__row">
                                <td class="">
                                    <div class="govuk-form-group  govuk-!-margin-bottom-0 govuk-!-margin-top-2">

                                        <div class="govuk-radios govuk-radios--inline" data-module="radios">
                                            <div class="govuk-radios__item">
                                                @Html.RadioButtonFor(m => m.IsEnabled, true, new { id = "operation-yes", @class = "govuk-radios__input" })
                                                <label class="govuk-label govuk-radios__label" for="operation-yes">
                                                    Yes
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr class="govuk-table__row">
                                <td class="">
                                    <div class="govuk-form-group govuk-!-margin-bottom-0 govuk-!-margin-top-2">
                                        <div class="govuk-radios govuk-radios--inline" data-module="radios">
                                            <div class="govuk-radios__item">
                                                @Html.RadioButtonFor(m => m.IsEnabled, false, new { id = "operation-no", @class = "govuk-radios__input" })
                                                <label class="govuk-label govuk-radios__label" for="operation-no">
                                                    No
                                                </label>
                                            </div>
                                        </div>

                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </fieldset>

                @Html.HiddenFor(m => m.AccountLegalEntityId)
                @Html.HiddenFor(m => m.AccountProviderId)
                @Html.HiddenFor(m => m.IsEditMode)

            </div>
        </div>
        <div class="govuk-grid-column-two-thirds">
            <button class="govuk-button" type="submit">Continue</button>
        </div>
    }
</div>
@section footerJS
{
}
